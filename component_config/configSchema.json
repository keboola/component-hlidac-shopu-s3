{
  "type": "object",
  "title": "writer configuration",
  "required": [
    "format",
    "aws_access_key_id",
    "#aws_secret_access_key",
    "aws_bucket"
  ],
  "properties": {
    "aws_access_key_id": {
      "type": "string",
      "title": "AWS access key",
      "propertyOrder": 1
    },
    "#aws_secret_access_key": {
      "type": "string",
      "title": "AWS secret access key",
      "propertyOrder": 2
    },
    "format": {
      "type": "string",
      "enum": [
        "pricehistory",
        "metadata"
      ],
      "title": "Input file format",
      "propertyOrder": 3
    },
    "aws_bucket": {
      "type": "string",
      "title": "Target AWS bucket",
      "propertyOrder": 4
    },
    "aws_directory": {
      "type": "string",
      "title": "AWS directory name to store the files to, if needed.",
      "propertyOrder": 5
    },
    "workers": {
      "type": "integer",
      "title": "Number of threads used to upload files to S3.",
      "default": 32,
      "propertyOrder": 6
    },
    "chunksize": {
      "type": "integer",
      "title": "Number of files to process in a single batch.",
      "default": 5000,
      "propertyOrder": 7
    }
  }
}
